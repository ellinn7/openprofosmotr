openprofosmotr

Приложение предназначено для проведения поликлиниками профосмотров в соответствии с Приказом Минздравсоцразвития РФ №302н.

Базовая структура приложения соответствует шаблону Yii2 basic.

Модели:
Patients - предназначена для хранения данных о сотрудниках, проходящих медосмотр.
Factors1 - соответствует приложению 1 приказа 302н - Вредные и опасные производственные факторы
Specialists1 - осмотр специалистами в соответствии с Приложением 1
Procedures1 - прохождение процедур в соответствии с Приложением 1
Againsts1 - противопоказания в соответствии с Приложением 1
Factors2 - соответствует приложению 2 приказа 302н - Перечень работ, при выполнении которых проводятся обязательные мед.осмотры
Specialists2 - осмотр специалистами в соответствии с Приложением 2
Procedures2 - прохождение процедур в соответствии с Приложением 2
Againsts2 - противопоказания в соответствии с Приложением 2
SpecialistsRequired - обязательный осмотр специалистами вне зависимости от пунктов приложения 1 или 2
ProceduresRequired - обязательные процедуры вне зависимости от пунктов приложения 1 или 2

CRUD

BlanksController - для печати бланков
views/blanks - бланки

PatientsController
здесь располагаются экшены (1) загрузки данных о сотрудниках организации, проходящих профосмотр и (2) для формирования бланков с их данными
1) actionUpload
для загрузки данных о сотрудниках из файла .xls/.ods
Пример файла ./files/file1.xls
2) actionLandscape и actionPortrait
На данном этапе нам не удалось формировать в MPDF и выводить на печать сразу всю пачку бланков - и портретной и ландшафтной ориентации.
Будем рады полезным советам по доработке.

Commands
FactorsController
Для загрузки приведенных в формат .csv таблиц из приложений 1 и 2 (располагаются в ./files).

Также в ./files располагается дамп базы postgresql с уже выгруженными данными и для работы с системой. 